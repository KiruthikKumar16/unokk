<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=0.5, user-scalable=yes">
    <title>Hello Kitty UNO Online - Kawaii Card Game! ğŸ€</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ€</text></svg>">
</head>
<body>
    <div id="app">
        <!-- Direct Join Screen (for shared links) -->
        <div id="directJoinScreen" class="screen">
            <div class="container">
                <h1 class="title">Hello Kitty UNO</h1>
                <p class="subtitle">Join Your Friend's Kawaii Game! ğŸ€</p>
                
                <div class="menu-card direct-join-card">
                    <div class="direct-join-info">
                        <p class="room-code-display">Room: <span id="directJoinRoomCode"></span></p>
                        <button class="paste-room-btn" onclick="pasteRoomCode()" style="margin-top: 10px;">ğŸ“‹ Paste Code from Message</button>
                    </div>
                    
                    <div class="input-group">
                        <input type="text" id="directJoinPlayerName" placeholder="Enter your cute name ğŸ€" maxlength="20">
                    </div>
                    
                    <div class="button-group">
                        <button id="directJoinBtn" class="btn btn-primary">ğŸ’– Join Game</button>
                        <button id="backToMainBtn" class="btn btn-secondary">â† Back to Main</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Menu -->
        <div id="mainMenu" class="screen active">
            <div class="container">
                <h1 class="title">Hello Kitty UNO</h1>
                <p class="subtitle">Kawaii Card Game with Friends! ğŸ’–</p>
                
                <div class="menu-card">
                    <div class="input-group">
                        <input type="text" id="playerName" placeholder="Enter your cute name ğŸ€" maxlength="20">
                    </div>
                    
                    <div class="button-group">
                        <button id="createRoomBtn" class="btn btn-primary">ğŸŒ¸ Create Kawaii Room</button>
                        <button id="joinRoomBtn" class="btn btn-secondary">ğŸ’– Join Friends</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Join Room Modal -->
        <div id="joinRoomModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>ğŸ€ Join Kawaii Room</h3>
                    <span class="close" id="closeJoinModal">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="join-room-form">
                        <div class="form-row">
                            <label for="roomCode">Magic Room Code:</label>
                        </div>
                        <div class="form-row">
                            <input type="text" id="roomCode" placeholder="Enter 6-digit kawaii code âœ¨" maxlength="6">
                        </div>
                        <div class="form-row">
                            <button class="paste-room-btn" onclick="pasteRoomCode()">ğŸ“‹ Paste Code</button>
                            <button id="joinGameBtn" class="btn btn-primary">ğŸ’• Join Game</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Lobby -->
        <div id="lobby" class="screen">
            <div class="container">
                <div class="lobby-header">
                    <h2>ğŸŒ¸ Kawaii Room</h2>
                    <div class="room-code-section">
                        <span id="roomCodeDisplay"></span>
                    </div>
                    <button id="startGameBtn" class="btn btn-primary">ğŸ® Start Kawaii Game</button>
                </div>
                
                <div class="players-grid" id="playersGrid">
                    <!-- Players will be populated here -->
                </div>
                
                <div class="lobby-info">
                    <p>ğŸ€ Waiting for kawaii friends... (2-10 players required)</p>
                    <p>ğŸ’– Share the magic code with your besties!</p>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen">
            <div class="game-container">
                <!-- Other Players -->
                <div class="other-players" id="otherPlayers">
                    <!-- Other players' hands will be shown here -->
                </div>

                <!-- Game Center -->
                <div class="game-center">
                    <div class="deck-area">
                        <div class="deck" id="deck">
                            <div class="card card-back"></div>
                        </div>
                        <div class="discard-pile" id="discardPile">
                            <!-- Top card will be shown here -->
                        </div>
                    </div>
                    
                    <div class="game-info">
                        <div class="current-player" id="currentPlayerInfo">
                            ğŸŒŸ Current Player: <span id="currentPlayerName"></span>
                        </div>
                        <div class="direction" id="directionIndicator">
                            ğŸ€ Direction: <span class="arrow">â†’</span>
                        </div>
                    </div>
                </div>

                <!-- Current Player's Hand -->
                <div class="player-hand" id="playerHand">
                    <div class="hand-title">Your Kawaii Cards</div>
                    <div class="cards-container" id="cardsContainer">
                        <!-- Player's cards will be shown here -->
                    </div>
                    <div class="hand-actions">
                        <button id="drawCardBtn" class="btn btn-action">ğŸ´ Draw Card</button>
                        <button id="unoBtn" class="btn btn-uno">ğŸ€ UNO!</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Color Picker Modal -->
        <div id="colorPickerModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>ğŸŒˆ Choose a Kawaii Color</h3>
                </div>
                <div class="modal-body">
                    <div class="color-options">
                        <button class="color-btn red" data-color="red"></button>
                        <button class="color-btn blue" data-color="blue"></button>
                        <button class="color-btn green" data-color="green"></button>
                        <button class="color-btn yellow" data-color="yellow"></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Over Modal -->
        <div id="gameOverModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>ğŸ‰ Kawaii Victory!</h3>
                </div>
                <div class="modal-body">
                    <div class="winner-announcement">
                        <h2 id="winnerName"></h2>
                        <p>Kawaii Champion! ğŸ€âœ¨ğŸ‰</p>
                    </div>
                    <div class="play-again-voting">
                        <h4>ğŸ® Play Another Kawaii Round?</h4>
                        <div class="vote-status" id="voteStatus">
                            <span id="voteCount">0/0</span> kawaii friends want to play again ğŸ’–
                        </div>
                        <div class="voting-actions">
                            <button id="playAgainBtn" class="btn btn-primary">ğŸŒ¸ Yes, More Kawaii Fun!</button>
                            <button id="leaveGameBtn" class="btn btn-secondary">ğŸ’” Bye Bye</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loadingOverlay" class="loading-overlay hidden">
            <div class="spinner"></div>
            <p>ğŸ€ Connecting to Kawaii World...</p>
        </div>

        <!-- Error Messages -->
        <div id="errorMessage" class="error-message">
            <span id="errorText"></span>
            <button id="closeError" class="close-btn">&times;</button>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>
